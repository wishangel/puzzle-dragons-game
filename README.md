# パズル&ドラゴンズ風パズルゲーム - 拡張版

パズル&ドラゴンズのパズル部分を再現したWebゲームです。

## 🎮 機能

### 基本機能
- **直感的な操作**: スマホとPCの両方で快適にプレイ可能
- **ドロップの種類選択**: 火・水・木・光・闇・回復から自由に選択
- **連鎖システム**: 3つ以上揃えると消去、自動で連鎖を検出
- **美しいビジュアル**: 実際のドロップ画像を使用したリアルな表現
- **カスタマイズ可能**: ボードサイズを変更可能（5×4、6×5、7×6）

### 拡張機能（Future Work実装済み）✨

#### 🎯 タイムアタックモード
- 60秒間の制限時間内でスコアを競う
- リアルタイムでカウントダウン表示
- タイムアップ時に自動的にスコア表示

#### ⚡ スキルシステム
- **全消しスキル**: ボード上のすべてのドロップを新しいドロップに変換
- **変換スキル**: 特定の色のドロップを別の色に変換
- クールダウンシステム（コンボを重ねることで再使用可能）

#### 🔊 サウンドエフェクト
- ドロップ移動時の効果音
- 消去時の効果音
- コンボ達成時の効果音
- スキル発動時の効果音
- サウンドのON/OFF切り替え可能（Web Audio API使用）

#### 🏆 ハイスコアシステム
- LocalStorageを使用した永続的なハイスコア保存
- 新記録達成時に特別な通知表示
- ゲーム画面に常時表示

#### 🎨 実際のドロップ画像
- `refs/`ディレクトリの画像を使用
- 画像読み込み失敗時はグラデーションにフォールバック
- 美しいビジュアルエフェクト

## 🚀 プレイ方法

### 基本操作
1. ドロップをドラッグして移動
2. 同じ色のドロップを3つ以上揃える
3. 連鎖を繋げて高得点を狙おう！

### スキルの使い方
1. コンボを決めてスキルのクールダウンを減らす
2. クールダウンが0になったらスキルボタンをクリック
3. 効果的にスキルを使って高得点を狙おう！

### タイムアタックモード
1. 「タイムアタック開始」ボタンをクリック
2. 60秒以内にできるだけ高いスコアを目指す
3. タイムアップ後、ハイスコアが更新されます

## 🛠️ 技術スタック

- **HTML5 Canvas**: ゲームボードの描画
- **CSS3**: グラデーション、アニメーション、グラスモーフィズム
- **Vanilla JavaScript (ES6+)**: ゲームロジック
- **Web Audio API**: サウンドエフェクト
- **LocalStorage API**: ハイスコア保存

## 📦 デプロイ

GitHub Pagesで公開可能です。詳細は`DEPLOY.md`を参照してください。

```bash
# リポジトリをGitHubにプッシュ
git init
git add .
git commit -m "Initial commit: Puzzle & Dragons Enhanced"
git branch -M main
git remote add origin <your-repo-url>
git push -u origin main

# GitHub Pagesを有効化
# Settings > Pages > Source: main branch
```

## 🎯 カスタマイズ

### ドロップの種類を変更
ゲーム画面のドロップ選択UIで、利用するドロップを選択できます。

### ボードサイズを変更
設定パネルから5×4、6×5、7×6のいずれかを選択できます。

### ドロップ画像の追加
`img/`ディレクトリに新しい画像を追加し、`script.js`の`orbColors`オブジェクトを更新してください。

## 📁 ファイル構成

```
PuzzleAndDragon/
├── index.html          # メインHTML
├── style.css           # スタイルシート
├── script.js           # ゲームロジック
├── img/                # ドロップ画像
│   ├── fire.png
│   └── water.png
├── refs/               # 参照画像
│   ├── drop1.png
│   └── drop2.png
├── README.md           # このファイル
├── DEPLOY.md           # デプロイ手順
└── .gitignore          # Git設定
```

## 🎨 実装済みのFuture Work

以下の機能がすべて実装されています：

- ✅ **タイムアタックモード**: 60秒間の制限時間内でスコアを競う
- ✅ **サウンドエフェクト**: Web Audio APIを使用した効果音
- ✅ **ハイスコア保存**: LocalStorageで永続化
- ✅ **スキルシステム**: 全消しと変換スキル
- ✅ **実際のドロップ画像**: `refs/`ディレクトリの画像を使用

## 🚧 今後の拡張案

- モンスター表示システム
- より複雑なスキルシステム
- オンラインランキング
- BGM実装
- ドロップの消去順序アニメーション（パズドラ準拠）

## 📄 ライセンス

MIT License

## 🙏 謝辞

このプロジェクトは「パズル&ドラゴンズ」にインスパイアされて作成されました。